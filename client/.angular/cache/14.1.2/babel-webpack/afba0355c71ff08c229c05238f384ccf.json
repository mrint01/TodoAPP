{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Field is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Wrong Format.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, LoginComponent_div_21_div_1_Template, 2, 0, \"div\", 27);\n    i0.ɵɵtemplate(2, LoginComponent_div_21_div_2_Template, 2, 0, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.form.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.form.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"pattern\"]);\n  }\n}\n\nfunction LoginComponent_div_26_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Field is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, LoginComponent_div_26_div_1_Template, 2, 0, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.form.get(\"password\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\n\nfunction LoginComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.error_msg, \" \");\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, _router) {\n      this.authService = authService;\n      this._router = _router;\n      this.form = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.pattern(\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\")]),\n        password: new FormControl('', Validators.required)\n      });\n      this.email = \"test1@yahoo.ca\";\n      this.password = \"hatem1995\";\n      this.error_msg = \"\";\n    }\n\n    ngOnInit() {//const user = JSON.parse(localStorage.getItem('user') || '{}');\n      //console.log(user)\n    }\n\n    Sigin() {\n      const user_log = {\n        email: this.email,\n        password: this.password\n      };\n      this.authService.Sigin(user_log).subscribe(result => {\n        // Handle result\n        this.error_msg = \"\";\n        localStorage.setItem(\"user\", JSON.stringify(result));\n        localStorage.setItem(\"token\", JSON.stringify(result['token']));\n      }, error => {\n        console.log(error.error.message);\n        this.error_msg = error.error.message;\n      }, () => {\n        this._router.navigate(['todos']);\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 40,\n    vars: 6,\n    consts: [[1, \"h-100\", \"gradient-form\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-xl-10\"], [1, \"card\", \"rounded-3\", \"text-black\"], [1, \"row\", \"g-0\"], [1, \"col-lg-6\"], [1, \"card-body\", \"p-md-5\", \"mx-md-4\"], [1, \"text-center\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/lotus.webp\", \"alt\", \"logo\", 2, \"width\", \"185px\"], [1, \"mt-1\", \"mb-5\", \"pb-1\"], [\"name\", \"f2\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-outline\", \"mb-4\"], [\"for\", \"form2Example11\", 1, \"form-label\"], [\"formControlName\", \"email\", \"type\", \"email\", \"id\", \"form2Example11\", \"placeholder\", \"Email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"form2Example22\", 1, \"form-label\"], [\"formControlName\", \"password\", \"placeholder\", \"*********\", \"type\", \"password\", \"id\", \"form2Example22\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"text-center\", \"pt-1\", \"mb-5\", \"pb-1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"fa-lg\", \"gradient-custom-2\", \"mb-3\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", \"pb-4\"], [1, \"mb-0\", \"me-2\"], [\"routerLink\", \"/inscri\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\"], [1, \"col-lg-6\", \"imglogin\", 2, \"margin-top\", \"20%\"], [\"src\", \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp\", \"alt\", \"Sample image\", 1, \"img-fluid\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"form\")(2, \"section\", 0)(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8);\n        i0.ɵɵelement(11, \"img\", 9);\n        i0.ɵɵelementStart(12, \"h4\", 10);\n        i0.ɵɵtext(13, \"Todos Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"form\", 11);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_14_listener() {\n          return ctx.Sigin();\n        });\n        i0.ɵɵelementStart(15, \"p\");\n        i0.ɵɵtext(16, \"Please login to your account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 12)(18, \"label\", 13);\n        i0.ɵɵtext(19, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(21, LoginComponent_div_21_Template, 3, 2, \"div\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 12)(23, \"label\", 16);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, LoginComponent_div_26_Template, 2, 1, \"div\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 18)(28, \"button\", 19);\n        i0.ɵɵtext(29, \"Log in\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵtemplate(31, LoginComponent_div_31_Template, 2, 1, \"div\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 20)(33, \"p\", 21);\n        i0.ɵɵtext(34, \"Don't have an account?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"a\", 22)(36, \"button\", 23);\n        i0.ɵɵtext(37, \"Create new\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(38, \"div\", 24);\n        i0.ɵɵelement(39, \"img\", 25);\n        i0.ɵɵelementEnd()()()()()()()()();\n      }\n\n      if (rf & 2) {\n        let tmp_2_0;\n        let tmp_4_0;\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.form.get(\"email\")) == null ? null : tmp_2_0.invalid) && (((tmp_2_0 = ctx.form.get(\"email\")) == null ? null : tmp_2_0.dirty) || ((tmp_2_0 = ctx.form.get(\"email\")) == null ? null : tmp_2_0.touched)));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.form.get(\"password\")) == null ? null : tmp_4_0.invalid) && (((tmp_4_0 = ctx.form.get(\"password\")) == null ? null : tmp_4_0.dirty) || ((tmp_4_0 = ctx.form.get(\"password\")) == null ? null : tmp_4_0.touched)));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.error_msg.length > 0);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLinkWithHref, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgForm, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"body[_ngcontent-%COMP%]{background:#eee;height:100vh}@media (max-width: 992px){.imglogin[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}